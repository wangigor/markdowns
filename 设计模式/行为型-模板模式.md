# 行为型-模板模式

模板模式「全称是模板方法模式Template Method Design Pattern」在GoF的《设计模式》一书中，它是这样定义的

> Define the skeleton of an algorithm in an operation, deferring some steps to subclasses. Template Method lets subclasses redefine certain steps of an algorithm without changing the algorithm’s structure.

模板方法模式在一个方法中定义一个**算法骨架**，并将某些步骤推迟到子类种实现。模板方法模式可以让子类在不改变算法整体结构的情况下，重新定义算法中的某些步骤。

这里的算法，可以理解为广义上的**业务逻辑**，并不特指数据结构与算法中的算法。这里的算法骨架就是模板，包含算法骨架的方法就是模板方法。

下面是一段简单示例代码。

```java
public abstract class AbstractClass {
  public final void templateMethod() {
    //...
    method1();
    //...
    method2();
    //...
  }
  
  protected abstract void method1();
  protected abstract void method2();
}
```

```java
public class ConcreteClass1 extends AbstractClass {
  @Override
  protected void method1() {
    //...
  }
  
  @Override
  protected void method2() {
    //...
  }
}
```

```java
public class ConcreteClass2 extends AbstractClass {
  @Override
  protected void method1() {
    //...
  }
  
  @Override
  protected void method2() {
    //...
  }
}
```

```java
//方法调用
AbstractClass demo = new ConcreteClass1();
demo.templateMethod();
```

- `templateMethod()`方法被定义为`final`，是为了避免子类重写它。
- `method1()`和`method2()`定义为`abstract`，是为了强迫子类去实现。

不过这些都不是必须的，在实际的项目开发中，模板模式的代码实现比较灵活。
